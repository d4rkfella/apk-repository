name: Update Dependencies with wolfictl

on:
  schedule:
    - cron: '0 0 * * *'  # Runs daily at midnight
  workflow_dispatch:  # Allows manual triggering

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Run wolfictl-update-rm
        uses: wolfi-dev/actions/wolfictl-update-rm@main  # Replace with the correct path to the action
        with:
          repository: ${{ github.repository }}  # Current repository (org/repo)
          token: ${{ secrets.GITHUB_TOKEN }}  # GitHub token (automatically provided by GitHub Actions)
          release_monitor_token: ${{ secrets.RELEASE_MONITOR_TOKEN }}  # Release Monitor token (stored in GitHub Secrets)
          git_author_name: "test"  # Author name for Git commits
          git_author_email: "wolfi-bot@users.noreply.github.com>"  # Author email for Git commits
